---
/**
 * Testimonials Section - Glass Design
 * Real feedback displayed as modern glass cards + video testimonials carousel
 */
import VideoTestimonialsCarousel from './VideoTestimonialsCarousel.astro';

const screenshots = [
  "https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_500/v1769108296/WhatsApp_Image_2026-01-22_at_19.57.33_uxlvn0.jpg",
  "https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_500/v1769108296/WhatsApp_Image_2026-01-22_at_19.57.14_t4lh0q.jpg",
  "https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_500/v1769108295/WhatsApp_Image_2026-01-22_at_19.55.36_qc8mqk.jpg",
  "https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_500/v1769108295/WhatsApp_Image_2026-01-22_at_19.54.38_zgosjo.jpg",
  "https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_500/v1769108295/WhatsApp_Image_2026-01-22_at_19.54.38_1_z35b4a.jpg",
  "https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_500/v1769108295/WhatsApp_Image_2026-01-22_at_19.53.28_jjdzdw.jpg",
];

const stats = [
  { value: "98%", label: "שביעות רצון" },
  { value: "4.9", label: "דירוג ממוצע" },
  { value: "500+", label: "בוגרים" },
];
---

<section id="testimonials" class="py-12 md:py-16 relative overflow-hidden bg-[#0a0a0f]" data-section>
  <!-- Background -->
  <div class="absolute inset-0">
    <div class="absolute top-0 right-1/4 w-[500px] h-[500px] rounded-full bg-gradient-to-br from-purple-600/20 to-pink-500/10 blur-[120px] animate-pulse-slow"></div>
    <div class="absolute bottom-0 left-1/4 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-cyan-500/10 to-blue-600/20 blur-[150px] animate-pulse-slow" style="animation-delay: 1s;"></div>
    <!-- Fingerprint background - left side -->
    <img
      src="https://res.cloudinary.com/dfudxxzlj/image/upload/q_auto,f_auto,w_700/v1765571815/FOCUS_LOGO-06_2_grkja9.png"
      alt=""
      aria-hidden="true"
      class="absolute top-1/2 left-0 w-[500px] lg:w-[700px] h-auto -translate-y-1/2 opacity-[0.15] pointer-events-none select-none"
    />
  </div>

  <div class="container relative z-10 px-4 md:px-6">
    <!-- Header -->
    <div class="text-center mb-10 md:mb-12">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 backdrop-blur-xl border border-white/10 mb-6">
        <span class="w-2 h-2 rounded-full bg-purple-400 animate-pulse"></span>
        <span class="text-sm font-medium text-white/70">Testimonials</span>
      </div>

      <h2 class="text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight">
        פידבק <span class="testimonials-gradient-text">אמיתי</span>
      </h2>
      <p class="text-lg text-white/50 max-w-xl mx-auto">
        לא מילים שלנו. הודעות אמיתיות מלקוחות ובוגרים.
      </p>
    </div>

    <!-- Stats - Glass Cards -->
    <div class="flex flex-wrap justify-center gap-4 md:gap-6 mb-10 md:mb-12">
      {stats.map((stat, i) => (
        <div class="testimonials-stat-card" style={`--delay: ${i * 0.1}s`}>
          <div class="text-3xl md:text-4xl font-black testimonials-gradient-text mb-1">
            {stat.value}
          </div>
          <div class="text-sm text-white/50">
            {stat.label}
          </div>
        </div>
      ))}
    </div>

    <!-- Video Testimonials Carousel -->
    <div class="mb-10 md:mb-12">
      <div class="flex items-center gap-4 mb-4">
        <div class="h-px flex-1 bg-gradient-to-r from-transparent to-white/10"></div>
        <span class="text-sm font-medium text-white/40 uppercase tracking-wider">עדויות וידאו</span>
        <div class="h-px flex-1 bg-gradient-to-l from-transparent to-white/10"></div>
      </div>

      <VideoTestimonialsCarousel />
    </div>

    <!-- Screenshots Grid -->
    <div class="mb-10 md:mb-12">
      <div class="flex items-center gap-4 mb-8">
        <div class="h-px flex-1 bg-gradient-to-r from-transparent to-white/10"></div>
        <span class="text-sm font-medium text-white/40 uppercase tracking-wider">הודעות מלקוחות</span>
        <div class="h-px flex-1 bg-gradient-to-l from-transparent to-white/10"></div>
      </div>

      <div class="grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4">
        {screenshots.map((src, index) => (
          <div class="testimonials-screenshot-card" style={`--delay: ${index * 0.08}s`}>
            <div class="testimonials-glass-surface overflow-hidden">
              <img
                src={src}
                alt={`פידבק מלקוח ${index + 1}`}
                class="w-full h-auto transition-transform duration-500 hover:scale-105"
                loading="lazy"
              />
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Bottom CTA -->
    <div class="text-center">
      <div class="testimonials-cta-glass">
        <div class="relative z-10 p-8 md:p-10">
          <p class="text-lg text-white/70 mb-6">
            רוצים להצטרף לרשימת הלקוחות המרוצים?
          </p>

          <a
            href="#contact"
            class="testimonials-cta-btn"
          >
            <span class="testimonials-btn-bg"></span>
            <span class="testimonials-btn-text">
              בואו נדבר
              <svg class="w-5 h-5 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </span>
          </a>

          <div class="mt-6 flex flex-wrap items-center justify-center gap-4 md:gap-6 text-sm text-white/50">
            <span class="flex items-center gap-2">
              <span class="w-1.5 h-1.5 rounded-full bg-purple-400"></span>
              ללא התחייבות
            </span>
            <span class="flex items-center gap-2">
              <span class="w-1.5 h-1.5 rounded-full bg-purple-400"></span>
              תגובה תוך 24 שעות
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes pulse-slow {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.05); }
  }

  .animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
  }

  .testimonials-gradient-text {
    background: linear-gradient(135deg, #a855f7, #c084fc);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Stat cards */
  .testimonials-stat-card {
    text-align: center;
    padding: 1.5rem 2rem;
    background: linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
    border-radius: 16px;
    animation: statAppear 0.5s ease-out var(--delay) both;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .testimonials-stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 32px -8px rgba(168, 85, 247, 0.2);
  }

  @keyframes statAppear {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Glass surface */
  .testimonials-glass-surface {
    background: linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
    border-radius: 20px;
    overflow: hidden;
    transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.4s;
  }

  /* Screenshot cards */
  .testimonials-screenshot-card {
    animation: cardAppear 0.5s ease-out var(--delay) both;
  }

  .testimonials-screenshot-card:hover .testimonials-glass-surface {
    transform: translateY(-4px);
    box-shadow: 0 16px 32px -8px rgba(168, 85, 247, 0.2);
  }

  @keyframes cardAppear {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* CTA Glass */
  .testimonials-cta-glass {
    position: relative;
    display: inline-block;
    border-radius: 24px;
    overflow: hidden;
  }

  .testimonials-cta-glass::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
  }

  /* CTA Button */
  .testimonials-cta-btn {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 16px 32px;
    border-radius: 100px;
    font-weight: 600;
    overflow: hidden;
    transition: transform 0.3s;
  }

  .testimonials-cta-btn:hover {
    transform: scale(1.02);
  }

  .testimonials-cta-btn .testimonials-btn-bg {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #a855f7, #ec4899);
    border-radius: 100px;
    transition: background 0.3s;
  }

  .testimonials-cta-btn:hover .testimonials-btn-bg {
    background: linear-gradient(135deg, #9333ea, #db2777);
  }

  .testimonials-cta-btn .testimonials-btn-text {
    position: relative;
    z-index: 10;
    display: flex;
    align-items: center;
    gap: 8px;
    color: white;
  }

  .testimonials-cta-btn {
    box-shadow: 0 8px 32px -8px rgba(168, 85, 247, 0.5);
  }

  .testimonials-cta-btn:hover {
    box-shadow: 0 12px 40px -8px rgba(168, 85, 247, 0.6);
  }
</style>
