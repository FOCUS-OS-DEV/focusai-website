---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import HeroSection from '../components/HeroSection.astro';
import StorySection from '../components/StorySection.astro';
import ServicesPreview from '../components/ServicesPreview.astro';
import AcademyIntro from '../components/AcademyIntro.astro';
import AcademyPreview from '../components/AcademyPreview.astro';
import Testimonials from '../components/Testimonials.astro';
import WhatsAppCommunity from '../components/WhatsAppCommunity.astro';
import CTAContact from '../components/CTAContact.astro';
import RelatedContent from '../components/RelatedContent.astro';
---

<BaseLayout title="Focus AI | מגשרים על הפער בין אנשים לטכנולוגיה">
  <Header slot="header" currentPath="/" />

  <!-- Hero -->
  <HeroSection />

  <!-- Story Section - Problem/Solution/Proof narrative -->
  <StorySection />

  <!-- Academy Introduction - Human-centered AI learning -->
  <AcademyIntro />

  <!-- Academy Courses Preview - The course cards -->
  <AcademyPreview />

  <!-- Testimonials -->
  <Testimonials />

  <!-- B2B Services Preview -->
  <ServicesPreview />

  <!-- WhatsApp Community CTA -->
  <WhatsAppCommunity />

  <!-- Contact CTA -->
  <CTAContact />

  <!-- Related Content -->
  <RelatedContent items={[
    { title: "Bot-Camp", description: "תוכנית הכשרה מקצועית לבניית סוכני AI ואוטומציות", href: "/academy" },
    { title: "הסיפור שלנו", description: "הכירו את הצוות והחזון מאחורי Focus AI", href: "/about" },
    { title: "סדנאות AI", description: "סדנאות מעשיות לארגונים וצוותים", href: "/sadnaot" }
  ]} />

  <Footer slot="footer" />

  <!-- Header hide/show on scroll (no GSAP needed) -->
  <script slot="scripts">
    let lastScroll = 0;
    const header = document.querySelector('header');

    if (header) {
      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll > 100) {
          if (currentScroll > lastScroll) {
            header.style.transform = 'translateY(-100%)';
          } else {
            header.style.transform = 'translateY(0)';
          }
        }

        lastScroll = currentScroll;
      }, { passive: true });
    }
  </script>
</BaseLayout>
